<!DOCTYPE html>
<html lang="en">

<head>
     <meta charset="UTF-8">
     <meta name="viewport" content="width=device-width, initial-scale=1.0">
     <title>Document</title>
     <link rel="stylesheet" href="assets/css/bootstrap.css">
</head>

<body>
     <div class="container my-5">
          <div class="row">
               <div class="col-lg-4 col-md-5 col-sm-6 mx-auto">
                    <h3 class="text-center">Student Form</h3>
                    <div class="input-field mb-3">
                         <form class="student-form">
                              <div class="input-field mb-3">
                                   <label for="name">Name</label>
                                   <input type="text" class="form-control" name="ful_name">
                                   <span class="text-danger"></span>
                              </div>
                              <!-- email -->
                              <div class="input-field mb-3">
                                   <label for="email">Enter Your Email</label>
                                   <input type="text" class="form-control" name="email">
                                   <span class="text-danger"></span>
                              </div>
                              <!-- gender redio -->
                              <div class="form-field mb-5">
                                   <label>Gender</label>
                                   <div class="form-check">
                                        <input type="radio" name="gender" id="male" value="male"
                                             class="form-check-input">
                                        <label for="male">Male</label>
                                   </div>
                                   <div class="form-check">
                                        <input type="radio" name="gender" id="female" value="female"
                                             class="form-check-input">
                                        <label for="female">Female</label>
                                   </div>
                                   <span class="text-danger error-text gender-error"></span>
                              </div>
                              <!-- course checkbox -->
                              <div class="form-field mb-5">
                                   <label>Courses</label>
                                   <div class="form-check">
                                        <input type="checkbox" name="courses" id="wdpf" value="wdpf"
                                             class="form-check-input">
                                        <label for="wdpf">WDPF</label>
                                   </div>
                                   <div class="form-check">
                                        <input type="checkbox" name="courses" id="ddd" value="ddd"
                                             class="form-check-input">
                                        <label for="ddd">DDD</label>
                                   </div>
                                   <div class="form-check">
                                        <input type="checkbox" name="courses" id="gave" value="gave"
                                             class="form-check-input">
                                        <label for="gave">Gave</label>
                                   </div>
                                   <div class="form-check">
                                        <input type="checkbox" name="courses" id="fff" value="fff"
                                             class="form-check-input">
                                        <label for="fff">FFF</label>
                                   </div>
                                   <span class="text-danger error-text courses-error"></span>
                              </div>
                              <button type="submit" class="btn btn-dark">Submit</button>
                         </form>
                    </div>
               </div>
          </div>
     </div>

     <script>
          document.querySelector(".student-form").addEventListener("submit", function (event) {
               event.preventDefault();            //full form ar submit off kore rakte even.prevent use korte hobe 

               // console.log(event.target.querySelector('[]'))
               // console.log(event.target.ful_name);       //input ar name ke aivabe niye use korte hobe //even.terget korteche name ke 

               //name validation
               let name = event.target.ful_name, nameValid = false;
               if (name.value === "") {
                    name.nextElementSibling.innerText = "This field is require";
               } else if (name.value.length < 2) {
                    name.nextElementSibling.innerText = "Must be at least 2 Characters"
               } else {
                    name.nextElementSibling.innerText = "";
                    nameValid = true;

               }

               //email validation
               let regExpEmail = /^[A-Za-z0-9_.]{2,}[@]{1}[QA-Za-z0-9.-]{3,63}[.]{1}[a-z]{2,3}$/;
               let email = event.target.email, emailValid = false;
               if (email.value === "") {
                    email.nextElementSibling.innerText = "This field is require";
               } else if (regExpEmail.test(email.value) === false) {                   // (!regExpEmail.test(email.value))
                    email.nextElementSibling.innerText = "Email is not Valid"
               } else {
                    email.nextElementSibling.innerText = "";
                    emailValid = true;

               }
               // gander validation
               let gender = event.target.gender, genderValid = false, genderValue = "";
               // console.log(gender);
               for (let element of gender) {
                    if (element.checked) {
                         genderValue = element.value;
                         break;
                    }
               }
               
               if (genderValue === "") {
                    document.querySelector(".gender-error").innerText = "this field is requared";
               } else {
                    document.querySelector(".gender-error").innerText = "";
                    genderValid = true;
               }
               //Courses validation

               let courses = event.target.courses, coursesValid = false, coursesValue = "";
               // console.log(courses);
               for (let element of courses) {
                    if (element.checked) {
                         coursesValue += element.value + ", ";
                    }
               }
               // console.log(coursesValue)
               if (coursesValue === "") {
                    document.querySelector(".courses-error").innerText = "this field is requared";
               } else {
                    document.querySelector(".courses-error").innerText = "";
                    coursesValid = true;
               }




               if (nameValid && emailValid && genderValid && coursesValid ) {
                    // document.querySelector(".student-form").submit();   //etar altanate nicher line
                    // event.target.submit();
                    // event.target.reset();

                    let newWindow =window.open("" ,"","height =500 , width =400");
                    newWindow.document.writeln(`Name : ${name.value} <br><br>`);
                    newWindow.document.writeln(`Email : ${email.value} <br><br>`);
                    newWindow.document.writeln(`Gender : ${genderValue} <br><br>`);
                    newWindow.document.writeln(`Courses : ${coursesValue} <br><br>`);
               }

          })
     </script>
</body>

</html>